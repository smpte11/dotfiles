#:schema https://jj-vcs.github.io/jj/latest/config-schema.json
[ui]
# SCENARIO: `jj log`, `jj diff`, `jj show`
# Used for quick, read-only viewing in the terminal.
paginate = "never"
default-command = "log"

[settings]
diff.format = "color-words"

[user]
name = "Felix Brousseau-Tremblay"
email = "felix.brousseau-tremblay@kivra.com"

[signing]
backend = "ssh"
behavior = "own"
key = "~/.ssh/id_ed25519.pub"

[revsets]
log = '''
    present(parents(trunk()..@)::@)
    | ancestors(immutable_heads().., 2) & recent
    | heads(immutable_heads()) & recent
'''

[revset-aliases]
recent = "committer_date(after:'2 weeks ago')"

[aliases]
fetch = ["git", "fetch"]
push = ["git", "push"]
# Re-graft the branch of current commits on trunk to the latest upstream commit
lift = ["rebase", "--source", "roots(trunk()..@)", "--destination", "trunk()"]
tug = ["bookmark", "move", "--from", "heads(::@- & bookmarks())", "--to", "@-"]

[colors]
# The Change ID (e.g., 'qzvxy...', the part you type)
"change_id" = "#42f7ff" # base0D (Functions/Bright Cyan) - High visibility

# The Commit ID (the long hash)
"commit_id" = "#8691a7" # base03 (Comments) - De-emphasized

# Branch names (like 'main')
"branch" = "#ffc4ff"    # base0E (Keywords/Pink)

# Working copy marker (@)
"working_copy" = { fg = "#9ff895", bold = true } # base0B (Strings/Green)

# Tag names
"tag" = "#ca6ecf"       # base0C (Support/Purple)

# Git head marker
"git_head" = "#cc7e46"  # base09 (Integers/Orange)

# The "rest" of the log lines/markers (the dots and lines)
"elided" = "#606b81"    # base02 (Selection)

# Descriptions/Commit Messages
"description" = "#e2e98f" # base05 (Foreground)

# Diff coloring (Integrated with your palette)
"diff.added" = "#46a436"   # base0A (Classes/Dark Green)
"diff.removed" = "#ffcfa0" # base08 (Variables/Peach-Red)
"diff.changed" = "#42f7ff" # base0D (Cyan)

# Conflicts (High Alert!)
"conflict" = { fg = "#00a5c5", bold = true, underline = true } # base0F
